buildscript {
    repositories {
        mavenLocal()
        mavenCentral()
    }
    dependencies {
        classpath "org.openapitools:openapi-generator-gradle-plugin:6.6.0"
    }
}

apply plugin: 'org.openapi.generator'
apply plugin: 'java-library'


dependencies {
    api project(":sirius_nightsky_sdk:sirius_nightsky_sdk.openapi")
}

openApiGenerate {
    generatorName.set("java")
    inputSpec.set("$rootDir/sirius_rest_service/openapi-gen-config.json")
    outputDir.set("$projectDir/sirius_nightsky_sdk.openapi")
    apiPackage.set("de.unijena.bioinf.ms.nightsky.sdk.api")
    invokerPackage.set("de.unijena.bioinf.ms.nightsky.sdk.client")
    modelPackage.set("e.unijena.bioinf.ms.nightsky.sdk.model")
    configOptions.set([
            artifactId: "sirius_nightsky_sdk",
            groupId: "de.unijena.bioinf.ms",
            library: "native",
            serializationLibrary: "jackson",
            webclientBlockingOperations: false
    ] as Map<? extends String, ? extends String>)
}

apply plugin: 'java-library'
dependencies {
    // wrong place START (should be in dist) but IDEA does not recognize dependency from no code modules //todo find alternative
    implementation group: 'org.slf4j', name: 'slf4j-jdk14', version: "$slf4j_version"
    implementation("de.unijena.bioinf.cbc-java:cbc-java-jni:$cbc_version:${siriusTargetPlatform.jenaClassifier}")
    implementation("de.unijena.bioinf.cbc-java:cbc-java-native:$cbc_version:${siriusTargetPlatform.jenaClassifier}")
    // wrong place END


    api "info.picocli:picocli:$picocli_version"
    //internal
    api group: "de.unijena.bioinf.ms", name: "gibbs_sampling", version: "$siriusVersion"

    api(group: "de.unijena.bioinf.ms", name: "sirius_api", version: "$siriusVersion") {
        exclude group: "cplex", module: "cplex"
        exclude group: "com.gurobi", module: "gurobi-jar"
    }

    api "de.unijena.bioinf.ms:combinatorial_fragmenter:$siriusVersion"

    api group: "de.unijena.bioinf.ms", name: "tree_motif_search", version: "$siriusVersion"
    api group: "de.unijena.bioinf.ms", name: "sirius_project_space", version: "$siriusVersion"
    api group: "de.unijena.bioinf.ms", name: "quality_assessment", version: "$siriusVersion"
    api group: "de.unijena.bioinf.ms", name: "passatutto", version: "$siriusVersion"
    api group: "de.unijena.bioinf.ms", name: "passatutto_project_space", version: "$siriusVersion"
    api group: "de.unijena.bioinf.ms", name: "networks", version: "$siriusVersion"
    api group: "de.unijena.bioinf.ms", name: "fingerprinter_oss", version: "$fingeridVersion"
    api group: "de.unijena.bioinf.ms", name: "fingerblast_oss", version: "$fingeridVersion"
    api group: "de.unijena.bioinf.ms", name: "chemdb_rest_oss", version: "$fingeridVersion"
    api group: "de.unijena.bioinf.ms", name: "chemdb_blob_oss", version: "$fingeridVersion"
    api group: "de.unijena.bioinf.ms", name: "chemical_db_oss", version: "$fingeridVersion"
    api group: "de.unijena.bioinf.ms", name: "confidence_score_predict_oss", version: "$fingeridVersion"
    api group: "de.unijena.bioinf.ms", name: "canopus_predict_oss", version: "$fingeridVersion"
    api group: "de.unijena.bioinf.ms", name: "sirius_web_client", version: "$fingeridVersion"
    api group: "de.unijena.bioinf.ms", name: "fingerid_project_space_oss", version: "$fingeridVersion"

    api group: "de.unijena.bioinf.ms", name: "FTAlignmentTool", version: "$siriusVersion"

    //cdk
    api "org.openscience.cdk:cdk-silent:$cdk_version"

    //mztabm
    api group: 'de.isas.mztab', name: 'jmztabm-api', version: "$mztabm_version"
    api group: 'de.isas.mztab', name: 'jmztabm-io', version: "$mztabm_version"

    api group: 'org.jbibtex', name: 'jbibtex', version: '1.0.17'
    api group: 'commons-io', name: 'commons-io', version: '2.11.0'

    //ilp solver support
    api("de.unijena.bioinf.ms:ft_cbc:$siriusVersion")
    api("de.unijena.bioinf.ms:ft_cplex:$siriusVersion")
    api("de.unijena.bioinf.ms:ft_gurobi:$siriusVersion")
}

artifactory {
    contextUrl = 'https://bio.informatik.uni-jena.de/repository/'
    publish {
        repository {
            if (version.toString().endsWith('-SNAPSHOT'))
                repoKey = 'libs-snapshot-local'
            else
                repoKey = 'libs-release-local'

            username = project.findProperty('de.unijena.bioinf.build.artifactory.username')
            password = project.findProperty('de.unijena.bioinf.build.artifactory.password')
        }
        defaults {
            publications('mavenJava')
        }
    }
}